# README 维护规范

## 核心原则
项目做了改动时，如果影响到项目的使用、配置、结构或功能，必须及时更新 README.md 文件，确保文档与代码保持同步。

## 需要更新 README 的场景

### 1. 项目结构变更
- 添加或删除主要目录
- 重组项目文件结构
- 移动重要配置文件位置

**示例：**
```
添加了 docs/ 和 scripts/ 目录 → 更新项目结构说明
```

### 2. 功能变更
- 新增功能模块
- 修改现有功能
- 删除功能

**示例：**
```
新增用户认证功能 → 更新功能列表和使用说明
```

### 3. 配置变更
- 新增环境变量
- 修改配置文件
- 更改默认配置值
- 新增或修改数据库配置

**示例：**
```
添加 JWT_SECRET 环境变量 → 更新环境变量配置说明
```

### 4. 依赖变更
- 添加新的依赖包
- 升级主要依赖版本
- 更改运行环境要求（如 Node.js、Java 版本）

**示例：**
```
升级 Spring Boot 到 3.x → 更新技术栈和环境要求
```


### 5. 安装和运行步骤变更
- 修改安装步骤
- 更改启动命令
- 新增初始化脚本
- 修改部署流程

**示例：**
```
添加数据库初始化脚本 → 更新安装步骤说明
```

### 6. API 变更
- 新增 API 端点
- 修改 API 接口
- 更改 API 认证方式

**示例：**
```
新增 /api/v1/stocks 端点 → 更新 API 文档部分
```

### 7. 开发工具和脚本变更
- 添加开发辅助脚本
- 新增测试命令
- 修改构建流程

**示例：**
```
添加 verify-setup.bat 脚本 → 在 README 中说明如何使用
```

## 更新原则

### 1. 及时性
- 在完成代码改动的同时更新 README
- 不要等到多个改动累积后再统一更新
- 避免文档与代码不同步

### 2. 完整性
- 确保所有重要变更都有记录
- 包含必要的示例和说明
- 提供清晰的使用指导

### 3. 准确性
- 验证文档中的命令和配置是否正确
- 确保示例代码可以正常运行
- 检查链接和引用是否有效


### 4. 清晰性
- 使用简洁明了的语言
- 合理使用标题和列表
- 提供必要的代码示例

## README 应包含的核心内容

### 基本信息
- 项目名称和简介
- 主要功能列表
- 技术栈

### 环境要求
- 运行环境（如 Java 17、Node.js 18）
- 必需的工具（如 Docker、Maven）
- 数据库要求

### 安装和配置
- 克隆项目
- 安装依赖
- 环境变量配置
- 数据库初始化

### 运行说明
- 开发环境启动
- 生产环境部署
- 常用命令

### 项目结构
- 主要目录说明
- 重要文件位置

### API 文档
- 主要接口列表
- 请求示例
- 响应格式

### 开发指南
- 开发环境设置
- 代码规范
- 测试方法
- 常用脚本说明

## 实施流程

### 代码改动时的检查清单
1. ✅ 是否影响项目结构？
2. ✅ 是否改变配置要求？
3. ✅ 是否修改运行步骤？
4. ✅ 是否新增或修改功能？
5. ✅ 是否影响 API 接口？
6. ✅ 是否添加新的脚本或工具？

如果以上任何一项为"是"，则需要更新 README.md


## 更新示例

### 示例 1：添加新的环境变量
**代码改动：**
```yaml
# application.yml 新增
jwt:
  secret: ${JWT_SECRET}
  expiration: 86400
```

**README 更新：**
```markdown
## 环境变量配置

在 `.env` 文件中添加以下配置：

\`\`\`
JWT_SECRET=your-secret-key-here
\`\`\`
```

### 示例 2：添加新的脚本
**代码改动：**
- 创建 `scripts/verify-setup.bat`

**README 更新：**
```markdown
## 验证安装

运行验证脚本检查环境配置：

\`\`\`bash
# Windows
scripts\verify-setup.bat

# Linux/Mac
./scripts/verify-setup.sh
\`\`\`
```

### 示例 3：重组项目结构
**代码改动：**
- 将测试文档移至 `docs/testing/`
- 将脚本移至 `scripts/`

**README 更新：**
```markdown
## 项目结构

\`\`\`
project-root/
├── docs/              # 开发文档
│   ├── testing/       # 测试相关文档
│   └── reports/       # 分析报告
├── scripts/           # 开发脚本
├── src/               # 源代码
└── README.md
\`\`\`

更多开发文档请查看 [docs](./docs/) 目录。
```

## 注意事项

1. **版本控制**：README 的更新应该与代码改动在同一个提交中
2. **多语言支持**：如果项目有多语言 README，需要同步更新所有版本
3. **链接检查**：更新后检查所有内部链接是否有效
4. **格式一致**：保持 README 的格式风格一致
5. **避免过度详细**：README 应该是概览，详细文档可以放在 docs/ 目录

## 优势

- **降低学习成本**：新成员能快速了解项目
- **减少沟通成本**：文档清晰减少重复解答
- **提高项目质量**：体现专业的项目管理
- **便于维护**：文档与代码同步，避免混乱

## 适用范围
- 所有项目改动
- 功能开发
- 配置调整
- 结构重组
- 依赖更新
